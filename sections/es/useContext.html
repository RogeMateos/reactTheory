<section class="box">
  <h1>Ejemplo de uso de Context</h1>

  <div class="tab-buttons">
    <button class="tab-button active" data-tab="props-example">
      Ejemplo con Props
    </button>
    <button class="tab-button" data-tab="context-example">
      Ejemplo con Context
    </button>
    <button class="tab-button" data-tab="key-concepts">
      Conceptos Clave
    </button>
  </div>

  <article id="props-example" class="tab-content active">
    <h2>Ejemplo usando props</h2>
    <p>
      <strong>Usando props</strong> Este es un ejemplo usando props en todos los
      niveles
    </p>
    <a
      href="https://codesandbox.io/p/sandbox/clr7cl?file=%2Fsrc%2FApp.js%3A1%2C1-11%2C1"
      >Ejemplo de código en vivo</a
    >

    <h3>Componente App</h3>
    <pre><code class="language-jsx">
import ComponentA from "./ComponentA";

export default function App() {
  return (
    &lt;div className="App"&gt;
      &lt;ComponentA /&gt;
    &lt;/div&gt;
  );
}
    </code></pre>

    <h3>ComponenteA</h3>
    <pre><code class="language-javascript">
import React, { useState } from "react";
import ComponentB from "./ComponentB";

function ComponentA() {
  const [user, setUser] = useState("Roge");
  return (
    &lt;div className="box"&gt;
      &lt;h1&gt;ComponenteA&lt;/h1&gt;
      &lt;h2&gt;{`Hola ${user}`}&lt;/h2&gt;
      &lt;ComponentB user={user} /&gt;
    &lt;/div&gt;
  );
}

export default ComponentA;
    </code></pre>

    <h3>ComponenteB</h3>
    <pre><code class="language-jsx">
import ComponentC from "./ComponentC";

function ComponentB({ user }) {
  return (
    &lt;div className="box"&gt;
      &lt;h1&gt;ComponenteB&lt;/h1&gt;
      &lt;ComponentC user={user} /&gt;
    &lt;/div&gt;
  );
}

export default ComponentB;
    </code></pre>

    <h3>ComponenteC</h3>
    <pre><code class="language-jsx">
import ComponentD from "./ComponentD";

function ComponentC({ user }) {
  return (
    &lt;div className="box"&gt;
      &lt;h1&gt;ComponenteC&lt;/h1&gt;
      &lt;ComponentD user={user} /&gt;
    &lt;/div&gt;
  );
}

export default ComponentC;
    </code></pre>

    <h3>ComponenteD</h3>
    <pre><code class="language-jsx">
function ComponentD({ user }) {
  return (
    &lt;div className="box"&gt;
      &lt;h1&gt;ComponenteD&lt;/h1&gt;
      &lt;h2&gt;{`Por ${user}`}&lt;/h2&gt;
    &lt;/div&gt;
  );
}

export default ComponentD;
    </code></pre>

    <h2>Enlaces Relacionados</h2>
    <ul>
      <li>
        <a
          href="https://summarize.ing/video-188188-React-useContext-hook-introduction-%F0%9F%A7%97%E2%80%8D%E2%99%82%EF%B8%8F#Transcripts"
          target="_blank"
          >Resumir React useContext</a
        >
      </li>
      <li>
        <a
          href="https://claude.ai/chat/e60e98ce-9c07-4e7b-a0ee-65fe762be973"
          target="_blank"
          >Claude</a
        >
      </li>
      <li>
        <a
          href="https://claude.ai/chat/a6e1faf1-35f6-40ae-95fe-f26b4d34a543"
          target="_blank"
          >Claude2</a
        >
      </li>
      <li>
        <a
          href="https://www.youtube.com/watch?v=FpNfvbNYPsg&t=195s"
          target="_blank"
          >Tutorial de YouTube</a
        >
      </li>
    </ul>
  </article>

  <article id="context-example" class="tab-content">
    <h2>Usar contexto</h2>
    <p>
      <strong>useContext</strong> permite que los componentes compartan datos
      sin pasar manualmente props a cada nivel. Piensa en ello como un sistema
      central (como un intercomunicador), donde todos los componentes pueden
      acceder directamente a los datos que necesitan.
    </p>

    <h2>Entendiendo useContext</h2>
    <a
      href="https://codesandbox.io/p/sandbox/funny-leaf-2gkdfg?file=%2Fsrc%2FComponentA.jsx%3A10%2C3-20%2C2&workspaceId=0824292f-f093-4536-8e02-e700e73cd76a"
      target="_blank"
      >Uso de código en vivo</a
    >
    <p>
      <strong>useContext</strong> es un Hook de React que permite compartir
      valores entre múltiples niveles de componentes sin pasar props a través de
      cada nivel.
    </p>

    <h3>App.js</h3>
    <pre><code class="language-jsx">
import React, { useState, createContext } from "react";
import ComponentA from "./ComponentA";
import "./styles.css";
export const UserContext = createContext();

export default function App() {
  return (
    &lt;div className="App"&gt;
      &lt;ComponentA /&gt;
    &lt;/div&gt;
  );
}
    </code></pre>

    <h3>ComponenteD</h3>
    <pre><code class="language-jsx">
import React, { useContext } from "react";
import { UserContext } from "./ComponentA";
function ComponentD() {
  const user = useContext(UserContext);
  return (
    &lt;div className="box"&gt;
      &lt;h1&gt;ComponenteD&lt;/h1&gt;
      &lt;h2&gt;{`Hola ${user}`}&lt;/h2&gt;
    &lt;/div&gt;
  );
}

export default ComponentD;
    </code></pre>

    <h2>Enlaces Relacionados</h2>
    <ul>
      <li>
        <a
          href="https://summarize.ing/video-188188-React-useContext-hook-introduction-%F0%9F%A7%97%E2%80%8D%E2%99%82%EF%B8%8F#Transcripts"
          target="_blank"
          >Resumir React useContext</a
        >
      </li>
      <li>
        <a
          href="https://claude.ai/chat/e60e98ce-9c07-4e7b-a0ee-65fe762be973"
          target="_blank"
          >Claude</a
        >
      </li>
      <li>
        <a
          href="https://claude.ai/chat/a6e1faf1-35f6-40ae-95fe-f26b4d34a543"
          target="_blank"
          >Claude2</a
        >
      </li>
      <li>
        <a
          href="https://www.youtube.com/watch?v=FpNfvbNYPsg&t=195s"
          target="_blank"
          >Tutorial de YouTube</a
        >
      </li>
    </ul>
  </article>

  <article id="key-concepts" class="tab-content">
    <h2>0) La Idea Clave (¿Por Qué React Context?)</h2>
    <p>
      Cuando tienes <strong>estado global</strong> (como un usuario, tema, etc.), si lo pasas por props a través de muchos componentes, creas <strong>prop drilling</strong>: props que "viajan" por componentes que ni las usan.
    </p>

    <h2>El Problema: Prop Drilling</h2>
    <pre><code class="language-jsx">
// Props deben pasar por cada nivel:
// App -> ComponentA -> ComponentB -> ComponentC -> ComponentD
// ¡Aunque ComponentB y ComponentC no necesiten 'user'!

&lt;App /&gt;
  &lt;ComponentA user={user} /&gt;
    &lt;ComponentB user={user} /&gt;
      &lt;ComponentC user={user} /&gt;
        &lt;ComponentD user={user} /&gt; {/* Finalmente lo usa aquí */}
    </code></pre>

    <h2>La Solución: React Context</h2>
    <p>
      En lugar de pasar props por cada nivel, conectas los componentes al contexto y leen lo que necesitan directamente.
    </p>
    <pre><code class="language-jsx">
// Con Context, ComponentD lee directamente sin prop drilling
&lt;UserProvider&gt;
  &lt;App /&gt;
    &lt;ComponentA /&gt;
      &lt;ComponentB /&gt;
        &lt;ComponentC /&gt;
          &lt;ComponentD /&gt; {/* useContext(UserContext) para leer */}
&lt;/UserProvider&gt;
    </code></pre>

    <h2>1) Principios Clave</h2>
    <ul>
      <li><strong>Fuente Única de Verdad:</strong> El estado vive en un componente Provider</li>
      <li><strong>Broadcast al Árbol:</strong> El valor está disponible para todos los descendientes</li>
      <li><strong>Sin Prop Drilling:</strong> Los componentes que necesitan datos pueden acceder directamente</li>
      <li><strong>Actualización Automática:</strong> Cuando cambia el contexto, todos los componentes consumidores se re-renderizan</li>
    </ul>

    <h2>2) Cómo Usar Context - Paso a Paso</h2>

    <h3>Paso 1: Crear el Context</h3>
    <pre><code class="language-jsx">
import { createContext } from "react";

export const UserContext = createContext();
    </code></pre>

    <h3>Paso 2: Crear un Componente Provider</h3>
    <pre><code class="language-jsx">
import { UserContext } from "./UserContext";
import { useState } from "react";

export function UserProvider({ children }) {
  const [user, setUser] = useState("Roge");

  return (
    &lt;UserContext.Provider value={user}&gt;
      {children}
    &lt;/UserContext.Provider&gt;
  );
}
    </code></pre>

    <h3>Paso 3: Envuelve tu App con el Provider</h3>
    <pre><code class="language-jsx">
import { UserProvider } from "./UserProvider";
import App from "./App";

export default function Root() {
  return (
    &lt;UserProvider&gt;
      &lt;App /&gt;
    &lt;/UserProvider&gt;
  );
}
    </code></pre>

    <h3>Paso 4: Usa useContext en Cualquier Componente</h3>
    <pre><code class="language-jsx">
import { useContext } from "react";
import { UserContext } from "./UserContext";

export function ComponentD() {
  const user = useContext(UserContext);

  return (
    &lt;div&gt;
      &lt;h1&gt;ComponenteD&lt;/h1&gt;
      &lt;h2&gt;Hola {user}&lt;/h2&gt;
    &lt;/div&gt;
  );
}
    </code></pre>

    <h2>3) Modelo Mental</h2>
    <p>
      <strong>Antes de Context:</strong> Si ComponentD necesita datos de usuario, debe recibirlo como prop de su padre, que lo recibió de su padre, todo el camino desde App.
    </p>
    <p>
      <strong>Después de Context:</strong> ComponentD lee directamente del UserContext sin que se pasen props a través de componentes intermedios.
    </p>

    <h2>4) Cuándo Usar Context</h2>
    <ul>
      <li>Tema global (modo oscuro/claro) ✅</li>
      <li>Autenticación del usuario actual ✅</li>
      <li>Configuración de idioma/localización ✅</li>
      <li>Mensajes de notificación/toast ✅</li>
      <li>Estado complejo que necesita ser accedido por muchos componentes ✅</li>
    </ul>

    <h2>5) Importante: Context vs Props</h2>
    <p><strong>Usa Props Cuando:</strong> Pasas datos entre padre e hijo (usualmente 1-2 niveles)</p>
    <p><strong>Usa Context Cuando:</strong> Muchos componentes necesitan los mismos datos (problema de prop drilling)</p>

    <h2>Enlaces Relacionados</h2>
    <ul>
      <li>
        <a
          href="https://react.dev/reference/react/useContext"
          target="_blank"
          >Documentación de React useContext</a
        >
      </li>
      <li>
        <a
          href="https://react.dev/reference/react/createContext"
          target="_blank"
          >Documentación de React createContext</a
        >
      </li>
      <li>
        <a
          href="https://react.dev/learn/passing-data-deeply-with-context"
          target="_blank"
          >Guía Paso a Paso de React Context</a
        >
      </li>
    </ul>
  </article>
</section>
